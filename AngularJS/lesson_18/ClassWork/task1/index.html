<!DOCTYPE html>
<html lang="en" ng-app="CustomDirectiveApp">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>ClassWork - Task 1</title>
    <script src="../../Libraries/angular.js"></script>
    <link href="../../Libraries/bootstrap.css" rel="stylesheet" />
    <link href="../../Libraries/bootstrap-theme.css" rel="stylesheet" />

    <script>


        /*

         ### Задача 1
         Создайте директиву, которая создает кнопку, при нажатии на которую запускается счетчик
         (на экран начинают выводиться числа в возрастающей последовательности с интервалом в 1 с).

         * */

        var customDirictiveApp = angular.module('CustomDirectiveApp',[])
            .controller('CustomDirectiveCtrl', function($scope, $interval) {
                $scope.counter = 0;
                $scope.startCount = function() {

                    if(angular.isDefined($scope.intervalFunc)){
                        return;
                    }
                    $scope.counter = 0;
                    $scope.intervalFunc = $interval(function() {

                        $scope.counter++
                    },1000)
                }
            })
            .directive('counter', function() {
                return {
                    restrict: 'A',
                    replace: true,
                    template: '<div><div>{{counter}}</div><button ng-click="startCount()">Start!</button></div>'
                }
            })

    </script>
</head>
<body ng-controller="CustomDirectiveCtrl">
<div class="container">
    <div counter></div>
</div>
</body>
</html>